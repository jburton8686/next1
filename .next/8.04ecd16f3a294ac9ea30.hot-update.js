webpackHotUpdate(8,{

/***/ 391:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = __webpack_require__(17);

var _react2 = _interopRequireDefault(_react);

var _link = __webpack_require__(400);

var _link2 = _interopRequireDefault(_link);

var _head = __webpack_require__(189);

var _head2 = _interopRequireDefault(_head);

var _login = __webpack_require__(411);

var _login2 = _interopRequireDefault(_login);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _jsxFileName = 'C:\\Users\\jburt\\Desktop\\next1\\components\\layout.js';

exports.default = function (_ref) {
    var children = _ref.children,
        _ref$title = _ref.title,
        title = _ref$title === undefined ? 'This is the default title' : _ref$title;
    return _react2.default.createElement('div', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 8
        }
    }, _react2.default.createElement(_head2.default, {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 9
        }
    }, _react2.default.createElement('title', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 10
        }
    }, title), _react2.default.createElement('meta', { charSet: 'utf-8', __source: {
            fileName: _jsxFileName,
            lineNumber: 11
        }
    }), _react2.default.createElement('meta', { name: 'viewport', content: 'initial-scale=1.0, width=device-width', __source: {
            fileName: _jsxFileName,
            lineNumber: 12
        }
    }), _react2.default.createElement('link', {
        rel: 'stylesheet',
        href: 'https://bootswatch.com/4/cerulean/bootstrap.min.css',
        __source: {
            fileName: _jsxFileName,
            lineNumber: 13
        }
    })), _react2.default.createElement('header', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 19
        }
    }, _react2.default.createElement('nav', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 20
        }
    }, _react2.default.createElement(_link2.default, { href: '/', __source: {
            fileName: _jsxFileName,
            lineNumber: 21
        }
    }, _react2.default.createElement('a', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 21
        }
    }, 'Home')), ' |', _react2.default.createElement(_link2.default, { href: '/about', __source: {
            fileName: _jsxFileName,
            lineNumber: 22
        }
    }, _react2.default.createElement('a', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 22
        }
    }, 'About')), ' |', _react2.default.createElement(_link2.default, { href: '/contact', __source: {
            fileName: _jsxFileName,
            lineNumber: 23
        }
    }, _react2.default.createElement('a', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 23
        }
    }, 'Contact')), ' |', _react2.default.createElement(_link2.default, { href: '/login', __source: {
            fileName: _jsxFileName,
            lineNumber: 24
        }
    }, _react2.default.createElement('a', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 24
        }
    }, 'Login')))), children, _react2.default.createElement('footer', {
        __source: {
            fileName: _jsxFileName,
            lineNumber: 30
        }
    }, 'I`m here to stay'));
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHNcXGxheW91dC5qcyJdLCJuYW1lcyI6WyJMaW5rIiwiSGVhZCIsImxvZ2luIiwiY2hpbGRyZW4iLCJ0aXRsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLEFBQU87Ozs7QUFDUCxBQUFPOzs7O0FBQ1AsQUFBTyxBQUFXLEFBSWxCOzs7Ozs7OztrQkFBZSxnQkFBQTtRQUFBLEFBQUcsZ0JBQUgsQUFBRzswQkFBSCxBQUFhO1FBQWIsQUFBYSxtQ0FBYixBQUFxQiw4QkFBckI7MkJBQ1gsY0FBQTs7c0JBQUE7d0JBQUEsQUFDSTtBQURKO0FBQUEsS0FBQSxrQkFDSSxBQUFDOztzQkFBRDt3QkFBQSxBQUNJO0FBREo7QUFBQSx1QkFDSSxjQUFBOztzQkFBQTt3QkFBQSxBQUFRO0FBQVI7QUFBQSxPQURKLEFBQ0ksQUFDQSxnREFBTSxTQUFOLEFBQWM7c0JBQWQ7d0JBRkosQUFFSSxBQUNBO0FBREE7Z0RBQ00sTUFBTixBQUFXLFlBQVcsU0FBdEIsQUFBOEI7c0JBQTlCO3dCQUhKLEFBR0ksQUFDQTtBQURBOzthQUNBLEFBQ1EsQUFDSjtjQUZKLEFBRVM7O3NCQUZUO3dCQUxSLEFBQ0ksQUFJSSxBQU1KO0FBTkk7QUFDSSx5QkFLUixjQUFBOztzQkFBQTt3QkFBQSxBQUNJO0FBREo7QUFBQSx1QkFDSSxjQUFBOztzQkFBQTt3QkFBQSxBQUNJO0FBREo7QUFBQSx1QkFDSSxBQUFDLGdDQUFLLE1BQU4sQUFBVztzQkFBWDt3QkFBQSxBQUFlO0FBQWY7dUJBQWUsY0FBQTs7c0JBQUE7d0JBQUE7QUFBQTtBQUFBLE9BRG5CLEFBQ0ksQUFBZSxVQUN2QixzQkFBQSxBQUFDLGdDQUFLLE1BQU4sQUFBVztzQkFBWDt3QkFBQSxBQUFvQjtBQUFwQjt1QkFBb0IsY0FBQTs7c0JBQUE7d0JBQUE7QUFBQTtBQUFBLE9BRmhCLEFBRUosQUFBb0IsV0FDcEIsc0JBQUEsQUFBQyxnQ0FBSyxNQUFOLEFBQVc7c0JBQVg7d0JBQUEsQUFBc0I7QUFBdEI7dUJBQXNCLGNBQUE7O3NCQUFBO3dCQUFBO0FBQUE7QUFBQSxPQUhsQixBQUdKLEFBQXNCLGFBQ3RCLHNCQUFBLEFBQUMsZ0NBQUssTUFBTixBQUFXO3NCQUFYO3dCQUFBLEFBQW9CO0FBQXBCO3VCQUFvQixjQUFBOztzQkFBQTt3QkFBQTtBQUFBO0FBQUEsT0FoQnhCLEFBV0ksQUFDSSxBQUlKLEFBQW9CLEFBSW5CLGFBcEJMLEFBc0JJLDBCQUFBLGNBQUE7O3NCQUFBO3dCQUFBLEFBQ0s7QUFETDtBQUFBLE9BdkJPLEFBQ1gsQUFzQkk7QUF2QlIiLCJmaWxlIjoibGF5b3V0LmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL2pidXJ0L0Rlc2t0b3AvbmV4dDEifQ==

 ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } /* eslint-disable camelcase, no-undef */ var webpackExports = typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__ : module.exports; /* eslint-enable camelcase, no-undef */ if (typeof webpackExports === 'function') { __REACT_HOT_LOADER__.register(webpackExports, 'module.exports', "C:\\Users\\jburt\\Desktop\\next1\\components\\layout.js"); return; } /* eslint-disable no-restricted-syntax */ for (var key in webpackExports) { /* eslint-enable no-restricted-syntax */ if (!Object.prototype.hasOwnProperty.call(webpackExports, key)) { continue; } var namedExport = void 0; try { namedExport = webpackExports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, "C:\\Users\\jburt\\Desktop\\next1\\components\\layout.js"); } } })();

/***/ }),

/***/ 411:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__resourceQuery) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _getPrototypeOf = __webpack_require__(44);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(15);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(16);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(45);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(49);

var _inherits3 = _interopRequireDefault(_inherits2);

var _layout = __webpack_require__(391);

var _layout2 = _interopRequireDefault(_layout);

var _react = __webpack_require__(17);

var _react2 = _interopRequireDefault(_react);

var _AuthService = __webpack_require__(412);

var _AuthService2 = _interopRequireDefault(_AuthService);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _jsxFileName = 'C:\\Users\\jburt\\Desktop\\next1\\pages\\login.js';


var auth = new _AuthService2.default('http://localhost:5000');

var Login = function (_Component) {
    (0, _inherits3.default)(Login, _Component);

    function Login(props) {
        (0, _classCallCheck3.default)(this, Login);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Login.__proto__ || (0, _getPrototypeOf2.default)(Login)).call(this, props));

        _this.handleSubmit = _this.handleSubmit.bind(_this);
        return _this;
    }

    (0, _createClass3.default)(Login, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            if (auth.loggedIn()) {
                this.props.url.replaceTo('/admin'); // redirect if you're already logged in
            }
        }
    }, {
        key: 'handleSubmit',
        value: function handleSubmit(e) {
            var _this2 = this;

            e.preventDefault();
            // yay uncontrolled forms!
            auth.login(this.refs.email.value, this.refs.password.value).then(function (res) {
                console.log(res);
                _this2.props.url.replaceTo('/admin');
            }).catch(function (e) {
                return console.log(e);
            }); // you would show/hide error messages with component state here 
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement('div', {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 32
                }
            }, 'Login', _react2.default.createElement('form', { onSubmit: this.handleSubmit, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 34
                }
            }, _react2.default.createElement('input', { type: 'text', ref: 'email', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 35
                }
            }), _react2.default.createElement('input', { type: 'password', ref: 'password', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 36
                }
            }), _react2.default.createElement('input', { type: 'submit', value: 'Submit', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 37
                }
            })));
        }
    }]);

    return Login;
}(_react.Component);

exports.default = Login;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2VzXFxsb2dpbi5qcyJdLCJuYW1lcyI6WyJMYXlvdXQiLCJSZWFjdCIsIkNvbXBvbmVudCIsIkF1dGhTZXJ2aWNlIiwiYXV0aCIsIkxvZ2luIiwicHJvcHMiLCJoYW5kbGVTdWJtaXQiLCJiaW5kIiwibG9nZ2VkSW4iLCJ1cmwiLCJyZXBsYWNlVG8iLCJlIiwicHJldmVudERlZmF1bHQiLCJsb2dpbiIsInJlZnMiLCJlbWFpbCIsInZhbHVlIiwicGFzc3dvcmQiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsInJlcyIsImNhdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLEFBQU8sQUFBWTs7OztBQUNuQixBQUFPLEFBQVM7Ozs7QUFDaEIsQUFBTyxBQUFpQjs7Ozs7Ozs7O0FBRXhCLElBQU0sT0FBTyxBQUFJLDBCQUFqQixBQUFhLEFBQWdCOztJQUV2QixBO21DQUNGOzttQkFBQSxBQUFZLE9BQU87NENBQUE7O3dJQUFBLEFBQ1QsQUFDTjs7Y0FBQSxBQUFLLGVBQWUsTUFBQSxBQUFLLGFBQUwsQUFBa0IsS0FGdkIsQUFFZjtlQUNIOzs7Ozs0Q0FFbUIsQUFDaEI7Z0JBQUksS0FBSixBQUFJLEFBQUssWUFBWSxBQUNqQjtxQkFBQSxBQUFLLE1BQUwsQUFBVyxJQUFYLEFBQWUsVUFERSxBQUNqQixBQUF5QixXQUFZLEFBQ3hDO0FBQ0o7Ozs7cUMsQUFFWTt5QkFDVDs7Y0FBQSxBQUFFLEFBQ0Y7QUFDQTtpQkFBQSxBQUFLLE1BQU0sS0FBQSxBQUFLLEtBQUwsQUFBVSxNQUFyQixBQUEyQixPQUFPLEtBQUEsQUFBSyxLQUFMLEFBQVUsU0FBNUMsQUFBcUQsT0FBckQsQUFDSyxLQUFLLGVBQU8sQUFDVDt3QkFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO3VCQUFBLEFBQUssTUFBTCxBQUFXLElBQVgsQUFBZSxVQUFmLEFBQXlCLEFBQzVCO0FBSkwsZUFBQSxBQUtLLE1BQU0sYUFBQTt1QkFBSyxRQUFBLEFBQVEsSUFBYixBQUFLLEFBQVk7QUFSaEIsQUFHWixlQUhZLENBUXFCLEFBQ3BDOzs7O2lDQUVRLEFBQ0w7bUNBQ0ksY0FBQTs7OEJBQUE7Z0NBQUE7QUFBQTtBQUFBLGFBQUEsRUFFRix5QkFBQSxjQUFBLFVBQU0sVUFBVSxLQUFoQixBQUFxQjs4QkFBckI7Z0NBQUEsQUFDVTtBQURWO3dEQUNpQixNQUFQLEFBQVksUUFBTyxLQUFuQixBQUF1Qjs4QkFBdkI7Z0NBRFYsQUFDVSxBQUNBO0FBREE7eURBQ08sTUFBUCxBQUFZLFlBQVcsS0FBdkIsQUFBMkI7OEJBQTNCO2dDQUZWLEFBRVUsQUFDQTtBQURBO3lEQUNPLE1BQVAsQUFBWSxVQUFTLE9BQXJCLEFBQTJCOzhCQUEzQjtnQ0FOWixBQUNJLEFBRUYsQUFHVSxBQUlmO0FBSmU7Ozs7OztBQTlCQSxBLEFBc0NwQjs7a0JBQUEsQUFBZSIsImZpbGUiOiJsb2dpbi5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9qYnVydC9EZXNrdG9wL25leHQxIn0=

 ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } /* eslint-disable camelcase, no-undef */ var webpackExports = typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__ : module.exports; /* eslint-enable camelcase, no-undef */ if (typeof webpackExports === 'function') { __REACT_HOT_LOADER__.register(webpackExports, 'module.exports', "C:\\Users\\jburt\\Desktop\\next1\\pages\\login.js"); return; } /* eslint-disable no-restricted-syntax */ for (var key in webpackExports) { /* eslint-enable no-restricted-syntax */ if (!Object.prototype.hasOwnProperty.call(webpackExports, key)) { continue; } var namedExport = void 0; try { namedExport = webpackExports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, "C:\\Users\\jburt\\Desktop\\next1\\pages\\login.js"); } } })();
    (function (Component, route) {
      if (false) return
      if (true) return

      var qs = __webpack_require__(84)
      var params = qs.parse(__resourceQuery.slice(1))
      if (params.entry == null) return

      module.hot.accept()
      Component.__route = route

      if (module.hot.status() === 'idle') return

      var components = next.router.components
      for (var r in components) {
        if (!components.hasOwnProperty(r)) continue

        if (components[r].Component.__route === route) {
          next.router.update(r, Component)
        }
      }
    })(typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__.default : (module.exports.default || module.exports), "/login")
  
/* WEBPACK VAR INJECTION */}.call(exports, ""))

/***/ }),

/***/ 412:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends2 = __webpack_require__(105);

var _extends3 = _interopRequireDefault(_extends2);

var _promise = __webpack_require__(70);

var _promise2 = _interopRequireDefault(_promise);

var _stringify = __webpack_require__(392);

var _stringify2 = _interopRequireDefault(_stringify);

var _classCallCheck2 = __webpack_require__(15);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(16);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AuthService = function () {
    function AuthService(domain) {
        (0, _classCallCheck3.default)(this, AuthService);

        this.domain = domain || 'http://localhost:5000';
        this.fetch = this.fetch.bind(this);
        this.login = this.login.bind(this);
        this.getProfile = this.getProfile.bind(this);
    }

    (0, _createClass3.default)(AuthService, [{
        key: 'login',
        value: function login(email, password) {
            var _this = this;

            // Get a token
            return this.fetch(this.domain + '/token', {
                method: 'POST',
                body: (0, _stringify2.default)({
                    email: email,
                    password: password
                })
            }).then(function (res) {
                _this.setToken(res.id_token);
                return _this.fetch(_this.domain + '/user', {
                    method: 'GET'
                });
            }).then(function (res) {
                _this.setProfile(res);
                return _promise2.default.resolve(res);
            });
        }
    }, {
        key: 'loggedIn',
        value: function loggedIn() {
            // Checks if there is a saved token and it's still valid
            var token = this.getToken();
            return !!token && !isTokenExpired(token); // handwaiving here
        }
    }, {
        key: 'setProfile',
        value: function setProfile(profile) {
            // Saves profile data to localStorage
            localStorage.setItem('profile', (0, _stringify2.default)(profile));
        }
    }, {
        key: 'getProfile',
        value: function getProfile() {
            // Retrieves the profile data from localStorage
            var profile = localStorage.getItem('profile');
            return profile ? JSON.parse(localStorage.profile) : {};
        }
    }, {
        key: 'setToken',
        value: function setToken(idToken) {
            // Saves user token to localStorage
            localStorage.setItem('id_token', idToken);
        }
    }, {
        key: 'getToken',
        value: function getToken() {
            // Retrieves the user token from localStorage
            return localStorage.getItem('id_token');
        }
    }, {
        key: 'logout',
        value: function logout() {
            // Clear user token and profile data from localStorage
            localStorage.removeItem('id_token');
            localStorage.removeItem('profile');
        }
    }, {
        key: '_checkStatus',
        value: function _checkStatus(response) {
            // raises an error in case response status is not a success
            if (response.status >= 200 && response.status < 300) {
                return response;
            } else {
                var error = new Error(response.statusText);
                error.response = response;
                throw error;
            }
        }
    }, {
        key: 'fetch',
        value: function (_fetch) {
            function fetch(_x, _x2) {
                return _fetch.apply(this, arguments);
            }

            fetch.toString = function () {
                return _fetch.toString();
            };

            return fetch;
        }(function (url, options) {
            // performs api calls sending the required authentication headers
            var headers = {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            };

            if (this.loggedIn()) {
                headers['Authorization'] = 'Bearer ' + this.getToken();
            }

            return fetch(url, (0, _extends3.default)({
                headers: headers
            }, options)).then(this._checkStatus).then(function (response) {
                return response.json();
            });
        })
    }]);

    return AuthService;
}();

exports.default = AuthService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzXFxBdXRoU2VydmljZS5qcyJdLCJuYW1lcyI6WyJBdXRoU2VydmljZSIsImRvbWFpbiIsImZldGNoIiwiYmluZCIsImxvZ2luIiwiZ2V0UHJvZmlsZSIsImVtYWlsIiwicGFzc3dvcmQiLCJtZXRob2QiLCJib2R5IiwidGhlbiIsInNldFRva2VuIiwicmVzIiwiaWRfdG9rZW4iLCJzZXRQcm9maWxlIiwicmVzb2x2ZSIsInRva2VuIiwiZ2V0VG9rZW4iLCJpc1Rva2VuRXhwaXJlZCIsInByb2ZpbGUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImlkVG9rZW4iLCJyZW1vdmVJdGVtIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJlcnJvciIsIkVycm9yIiwic3RhdHVzVGV4dCIsInVybCIsIm9wdGlvbnMiLCJoZWFkZXJzIiwibG9nZ2VkSW4iLCJfY2hlY2tTdGF0dXMiLCJqc29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQXFCLEEsMEJBQ2pCO3lCQUFBLEFBQVksUUFBUTs0Q0FDaEI7O2FBQUEsQUFBSyxTQUFTLFVBQWQsQUFBd0IsQUFDeEI7YUFBQSxBQUFLLFFBQVEsS0FBQSxBQUFLLE1BQUwsQUFBVyxLQUF4QixBQUFhLEFBQWdCLEFBQzdCO2FBQUEsQUFBSyxRQUFRLEtBQUEsQUFBSyxNQUFMLEFBQVcsS0FBeEIsQUFBYSxBQUFnQixBQUM3QjthQUFBLEFBQUssYUFBYSxLQUFBLEFBQUssV0FBTCxBQUFnQixLQUFsQyxBQUFrQixBQUFxQixBQUMxQzs7Ozs7OEIsQUFFSyxPLEFBQU8sVUFBVTt3QkFDbkI7O0FBQ0E7d0JBQU8sQUFBSyxNQUFTLEtBQWQsQUFBbUI7d0JBQWdCLEFBQzlCLEFBQ1I7OzJCQUFxQixBQUVqQjs4QkFKRCxBQUFtQyxBQUVoQyxBQUFlO0FBQUEsQUFDakIsaUJBREU7QUFGZ0MsQUFDdEMsYUFERyxFQUFBLEFBTUosS0FBSyxlQUFPLEFBQ1g7c0JBQUEsQUFBSyxTQUFTLElBQWQsQUFBa0IsQUFDbEI7NkJBQU8sQUFBSyxNQUFTLE1BQWQsQUFBbUI7NEJBQTFCLEFBQU8sQUFBa0MsQUFDN0IsQUFFZjtBQUg0QyxBQUNyQyxpQkFERztBQVJKLGVBQUEsQUFXSixLQUFLLGVBQU8sQUFDWDtzQkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7dUJBQU8sa0JBQUEsQUFBUSxRQUFmLEFBQU8sQUFBZ0IsQUFDMUI7QUFkRCxBQUFPLEFBZVY7Ozs7bUNBRVUsQUFDUDtBQUNBO2dCQUFNLFFBQVEsS0FBZCxBQUFjLEFBQUssQUFDbkI7bUJBQU8sQ0FBQyxDQUFELEFBQUUsU0FBUyxDQUFDLGVBSFosQUFHUCxBQUFtQixBQUFlLFFBQU8sQUFDNUM7Ozs7bUMsQUFFVSxTQUFTLEFBQ2hCO0FBQ0E7eUJBQUEsQUFBYSxRQUFiLEFBQXFCLFdBQVcseUJBQWhDLEFBQWdDLEFBQWUsQUFDbEQ7Ozs7cUNBRVksQUFDVDtBQUNBO2dCQUFNLFVBQVUsYUFBQSxBQUFhLFFBQTdCLEFBQWdCLEFBQXFCLEFBQ3JDO21CQUFPLFVBQVUsS0FBQSxBQUFLLE1BQU0sYUFBckIsQUFBVSxBQUF3QixXQUF6QyxBQUFvRCxBQUN2RDs7OztpQ0FFUSxBLFNBQVMsQUFDZDtBQUNBO3lCQUFBLEFBQWEsUUFBYixBQUFxQixZQUFyQixBQUFpQyxBQUNwQzs7OzttQ0FFVSxBQUNQO0FBQ0E7bUJBQU8sYUFBQSxBQUFhLFFBQXBCLEFBQU8sQUFBcUIsQUFDL0I7Ozs7aUNBRVEsQUFDTDtBQUNBO3lCQUFBLEFBQWEsV0FBYixBQUF3QixBQUN4Qjt5QkFBQSxBQUFhLFdBQWIsQUFBd0IsQUFDM0I7Ozs7cUNBRVksQSxVQUFVLEFBQ25CO0FBQ0E7Z0JBQUksU0FBQSxBQUFTLFVBQVQsQUFBbUIsT0FBTyxTQUFBLEFBQVMsU0FBdkMsQUFBZ0QsS0FBSyxBQUNqRDt1QkFBQSxBQUFPLEFBQ1Y7QUFGRCxtQkFFTyxBQUNIO29CQUFJLFFBQVEsSUFBQSxBQUFJLE1BQU0sU0FBdEIsQUFBWSxBQUFtQixBQUMvQjtzQkFBQSxBQUFNLFdBQU4sQUFBaUIsQUFDakI7c0JBQUEsQUFBTSxBQUNUO0FBQ0o7Ozs7Ozs7Ozs7Ozs7O29CQUVLLEEsSyxBQUFLLFNBQVMsQUFDaEI7QUFDQTtnQkFBTTswQkFBVSxBQUNGLEFBQ1Y7Z0NBRkosQUFBZ0IsQUFFSSxBQUdwQjtBQUxnQixBQUNaOztnQkFJQSxLQUFKLEFBQUksQUFBSyxZQUFZLEFBQ2pCO3dCQUFBLEFBQVEsbUJBQW1CLFlBQVksS0FBdkMsQUFBdUMsQUFBSyxBQUMvQztBQUVEOzt5QkFBTyxBQUFNO3lCQUFOO0FBQ0gsZUFERyxBQUVBLFVBRkEsQUFJRixLQUFLLEtBSkgsQUFJUSxjQUpSLEFBS0YsS0FBSyxvQkFBQTt1QkFBWSxTQUFaLEFBQVksQUFBUztBQUwvQixBQUFPLEFBTVYsYUFOVTtBOzs7Ozs7a0JBbEZNLEEiLCJmaWxlIjoiQXV0aFNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvamJ1cnQvRGVza3RvcC9uZXh0MSJ9

 ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } /* eslint-disable camelcase, no-undef */ var webpackExports = typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__ : module.exports; /* eslint-enable camelcase, no-undef */ if (typeof webpackExports === 'function') { __REACT_HOT_LOADER__.register(webpackExports, 'module.exports', "C:\\Users\\jburt\\Desktop\\next1\\utils\\AuthService.js"); return; } /* eslint-disable no-restricted-syntax */ for (var key in webpackExports) { /* eslint-enable no-restricted-syntax */ if (!Object.prototype.hasOwnProperty.call(webpackExports, key)) { continue; } var namedExport = void 0; try { namedExport = webpackExports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, "C:\\Users\\jburt\\Desktop\\next1\\utils\\AuthService.js"); } } })();

/***/ }),

/***/ 418:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__resourceQuery) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _getPrototypeOf = __webpack_require__(44);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(15);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(16);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(45);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(49);

var _inherits3 = _interopRequireDefault(_inherits2);

var _layout = __webpack_require__(391);

var _layout2 = _interopRequireDefault(_layout);

var _react = __webpack_require__(17);

var _react2 = _interopRequireDefault(_react);

var _AuthService = __webpack_require__(412);

var _AuthService2 = _interopRequireDefault(_AuthService);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _jsxFileName = 'C:\\Users\\jburt\\Desktop\\next1\\pages\\login.js?entry';


var auth = new _AuthService2.default('http://localhost:5000');

var Login = function (_Component) {
    (0, _inherits3.default)(Login, _Component);

    function Login(props) {
        (0, _classCallCheck3.default)(this, Login);

        var _this = (0, _possibleConstructorReturn3.default)(this, (Login.__proto__ || (0, _getPrototypeOf2.default)(Login)).call(this, props));

        _this.handleSubmit = _this.handleSubmit.bind(_this);
        return _this;
    }

    (0, _createClass3.default)(Login, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            if (auth.loggedIn()) {
                this.props.url.replaceTo('/admin'); // redirect if you're already logged in
            }
        }
    }, {
        key: 'handleSubmit',
        value: function handleSubmit(e) {
            var _this2 = this;

            e.preventDefault();
            // yay uncontrolled forms!
            auth.login(this.refs.email.value, this.refs.password.value).then(function (res) {
                console.log(res);
                _this2.props.url.replaceTo('/admin');
            }).catch(function (e) {
                return console.log(e);
            }); // you would show/hide error messages with component state here 
        }
    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement('div', {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 32
                }
            }, 'Login', _react2.default.createElement('form', { onSubmit: this.handleSubmit, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 34
                }
            }, _react2.default.createElement('input', { type: 'text', ref: 'email', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 35
                }
            }), _react2.default.createElement('input', { type: 'password', ref: 'password', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 36
                }
            }), _react2.default.createElement('input', { type: 'submit', value: 'Submit', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 37
                }
            })));
        }
    }]);

    return Login;
}(_react.Component);

exports.default = Login;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2VzXFxsb2dpbi5qcyJdLCJuYW1lcyI6WyJMYXlvdXQiLCJSZWFjdCIsIkNvbXBvbmVudCIsIkF1dGhTZXJ2aWNlIiwiYXV0aCIsIkxvZ2luIiwicHJvcHMiLCJoYW5kbGVTdWJtaXQiLCJiaW5kIiwibG9nZ2VkSW4iLCJ1cmwiLCJyZXBsYWNlVG8iLCJlIiwicHJldmVudERlZmF1bHQiLCJsb2dpbiIsInJlZnMiLCJlbWFpbCIsInZhbHVlIiwicGFzc3dvcmQiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsInJlcyIsImNhdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLEFBQU8sQUFBWTs7OztBQUNuQixBQUFPLEFBQVM7Ozs7QUFDaEIsQUFBTyxBQUFpQjs7Ozs7Ozs7O0FBRXhCLElBQU0sT0FBTyxBQUFJLDBCQUFqQixBQUFhLEFBQWdCOztJQUV2QixBO21DQUNGOzttQkFBQSxBQUFZLE9BQU87NENBQUE7O3dJQUFBLEFBQ1QsQUFDTjs7Y0FBQSxBQUFLLGVBQWUsTUFBQSxBQUFLLGFBQUwsQUFBa0IsS0FGdkIsQUFFZjtlQUNIOzs7Ozs0Q0FFbUIsQUFDaEI7Z0JBQUksS0FBSixBQUFJLEFBQUssWUFBWSxBQUNqQjtxQkFBQSxBQUFLLE1BQUwsQUFBVyxJQUFYLEFBQWUsVUFERSxBQUNqQixBQUF5QixXQUFZLEFBQ3hDO0FBQ0o7Ozs7cUMsQUFFWTt5QkFDVDs7Y0FBQSxBQUFFLEFBQ0Y7QUFDQTtpQkFBQSxBQUFLLE1BQU0sS0FBQSxBQUFLLEtBQUwsQUFBVSxNQUFyQixBQUEyQixPQUFPLEtBQUEsQUFBSyxLQUFMLEFBQVUsU0FBNUMsQUFBcUQsT0FBckQsQUFDSyxLQUFLLGVBQU8sQUFDVDt3QkFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO3VCQUFBLEFBQUssTUFBTCxBQUFXLElBQVgsQUFBZSxVQUFmLEFBQXlCLEFBQzVCO0FBSkwsZUFBQSxBQUtLLE1BQU0sYUFBQTt1QkFBSyxRQUFBLEFBQVEsSUFBYixBQUFLLEFBQVk7QUFSaEIsQUFHWixlQUhZLENBUXFCLEFBQ3BDOzs7O2lDQUVRLEFBQ0w7bUNBQ0ksY0FBQTs7OEJBQUE7Z0NBQUE7QUFBQTtBQUFBLGFBQUEsRUFFRix5QkFBQSxjQUFBLFVBQU0sVUFBVSxLQUFoQixBQUFxQjs4QkFBckI7Z0NBQUEsQUFDVTtBQURWO3dEQUNpQixNQUFQLEFBQVksUUFBTyxLQUFuQixBQUF1Qjs4QkFBdkI7Z0NBRFYsQUFDVSxBQUNBO0FBREE7eURBQ08sTUFBUCxBQUFZLFlBQVcsS0FBdkIsQUFBMkI7OEJBQTNCO2dDQUZWLEFBRVUsQUFDQTtBQURBO3lEQUNPLE1BQVAsQUFBWSxVQUFTLE9BQXJCLEFBQTJCOzhCQUEzQjtnQ0FOWixBQUNJLEFBRUYsQUFHVSxBQUlmO0FBSmU7Ozs7OztBQTlCQSxBLEFBc0NwQjs7a0JBQUEsQUFBZSIsImZpbGUiOiJsb2dpbi5qcz9lbnRyeSIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9qYnVydC9EZXNrdG9wL25leHQxIn0=

 ;(function register() { /* react-hot-loader/webpack */ if (true) { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } /* eslint-disable camelcase, no-undef */ var webpackExports = typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__ : module.exports; /* eslint-enable camelcase, no-undef */ if (typeof webpackExports === 'function') { __REACT_HOT_LOADER__.register(webpackExports, 'module.exports', "C:\\Users\\jburt\\Desktop\\next1\\pages\\login.js"); return; } /* eslint-disable no-restricted-syntax */ for (var key in webpackExports) { /* eslint-enable no-restricted-syntax */ if (!Object.prototype.hasOwnProperty.call(webpackExports, key)) { continue; } var namedExport = void 0; try { namedExport = webpackExports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, "C:\\Users\\jburt\\Desktop\\next1\\pages\\login.js"); } } })();
    (function (Component, route) {
      if (false) return
      if (false) return

      var qs = __webpack_require__(84)
      var params = qs.parse(__resourceQuery.slice(1))
      if (params.entry == null) return

      module.hot.accept()
      Component.__route = route

      if (module.hot.status() === 'idle') return

      var components = next.router.components
      for (var r in components) {
        if (!components.hasOwnProperty(r)) continue

        if (components[r].Component.__route === route) {
          next.router.update(r, Component)
        }
      }
    })(typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__.default : (module.exports.default || module.exports), "/login")
  
/* WEBPACK VAR INJECTION */}.call(exports, "?entry"))

/***/ })

})
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC4wNGVjZDE2ZjNhMjk0YWM5ZWEzMC5ob3QtdXBkYXRlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9sYXlvdXQuanM/MjExNWU3MyIsIndlYnBhY2s6Ly8vLi9wYWdlcy9sb2dpbi5qcz9lNjI4YmQzIiwid2VicGFjazovLy8uL3V0aWxzL0F1dGhTZXJ2aWNlLmpzP2U2MjhiZDMiLCJ3ZWJwYWNrOi8vLy4vcGFnZXMvbG9naW4uanM/YjNkYmEyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXHJcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCdcclxuaW1wb3J0IGxvZ2luIGZyb20gJy4uL3BhZ2VzL2xvZ2luJ1xyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCAoeyBjaGlsZHJlbiwgdGl0bGUgPSAnVGhpcyBpcyB0aGUgZGVmYXVsdCB0aXRsZScgfSkgPT4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgICA8SGVhZD5cclxuICAgICAgICAgICAgPHRpdGxlPnt0aXRsZX08L3RpdGxlPlxyXG4gICAgICAgICAgICA8bWV0YSBjaGFyU2V0PSd1dGYtOCcgLz5cclxuICAgICAgICAgICAgPG1ldGEgbmFtZT0ndmlld3BvcnQnIGNvbnRlbnQ9J2luaXRpYWwtc2NhbGU9MS4wLCB3aWR0aD1kZXZpY2Utd2lkdGgnIC8+XHJcbiAgICAgICAgICAgIDxsaW5rXHJcbiAgICAgICAgICAgICAgICByZWw9XCJzdHlsZXNoZWV0XCJcclxuICAgICAgICAgICAgICAgIGhyZWY9XCJodHRwczovL2Jvb3Rzd2F0Y2guY29tLzQvY2VydWxlYW4vYm9vdHN0cmFwLm1pbi5jc3NcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgIDwvSGVhZD5cclxuXHJcbiAgICAgICAgPGhlYWRlcj5cclxuICAgICAgICAgICAgPG5hdj5cclxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9Jy8nPjxhPkhvbWU8L2E+PC9MaW5rPiB8XHJcbiAgICAgICAgPExpbmsgaHJlZj0nL2Fib3V0Jz48YT5BYm91dDwvYT48L0xpbms+IHxcclxuICAgICAgICA8TGluayBocmVmPScvY29udGFjdCc+PGE+Q29udGFjdDwvYT48L0xpbms+IHxcclxuICAgICAgICA8TGluayBocmVmPScvbG9naW4nPjxhPkxvZ2luPC9hPjwvTGluaz5cclxuICAgICAgICAgICAgPC9uYXY+XHJcbiAgICAgICAgPC9oZWFkZXI+XHJcblxyXG4gICAgICAgIHtjaGlsZHJlbn1cclxuXHJcbiAgICAgICAgPGZvb3Rlcj5cclxuICAgICAgICAgICAgeydJYG0gaGVyZSB0byBzdGF5J31cclxuICAgICAgICA8L2Zvb3Rlcj5cclxuICAgIDwvZGl2PlxyXG4pXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29tcG9uZW50cy9sYXlvdXQuanMiLCJpbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0J1xyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBBdXRoU2VydmljZSBmcm9tICcuLi91dGlscy9BdXRoU2VydmljZSdcclxuXHJcbmNvbnN0IGF1dGggPSBuZXcgQXV0aFNlcnZpY2UoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCcpXHJcblxyXG5jbGFzcyBMb2dpbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICAgIHRoaXMuaGFuZGxlU3VibWl0ID0gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIGlmIChhdXRoLmxvZ2dlZEluKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy51cmwucmVwbGFjZVRvKCcvYWRtaW4nKSAgIC8vIHJlZGlyZWN0IGlmIHlvdSdyZSBhbHJlYWR5IGxvZ2dlZCBpblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTdWJtaXQoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIC8vIHlheSB1bmNvbnRyb2xsZWQgZm9ybXMhXHJcbiAgICAgICAgYXV0aC5sb2dpbih0aGlzLnJlZnMuZW1haWwudmFsdWUsIHRoaXMucmVmcy5wYXNzd29yZC52YWx1ZSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXJsLnJlcGxhY2VUbygnL2FkbWluJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5sb2coZSkpICAvLyB5b3Ugd291bGQgc2hvdy9oaWRlIGVycm9yIG1lc3NhZ2VzIHdpdGggY29tcG9uZW50IHN0YXRlIGhlcmUgXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICBMb2dpblxyXG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcmVmPVwiZW1haWxcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiByZWY9XCJwYXNzd29yZFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIlN1Ym1pdFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvZ2luXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcGFnZXMvbG9naW4uanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRoU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihkb21haW4pIHtcclxuICAgICAgICB0aGlzLmRvbWFpbiA9IGRvbWFpbiB8fCAnaHR0cDovL2xvY2FsaG9zdDo1MDAwJ1xyXG4gICAgICAgIHRoaXMuZmV0Y2ggPSB0aGlzLmZldGNoLmJpbmQodGhpcylcclxuICAgICAgICB0aGlzLmxvZ2luID0gdGhpcy5sb2dpbi5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5nZXRQcm9maWxlID0gdGhpcy5nZXRQcm9maWxlLmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBsb2dpbihlbWFpbCwgcGFzc3dvcmQpIHtcclxuICAgICAgICAvLyBHZXQgYSB0b2tlblxyXG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKGAke3RoaXMuZG9tYWlufS90b2tlbmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VG9rZW4ocmVzLmlkX3Rva2VuKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChgJHt0aGlzLmRvbWFpbn0vdXNlcmAsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvZmlsZShyZXMpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgbG9nZ2VkSW4oKSB7XHJcbiAgICAgICAgLy8gQ2hlY2tzIGlmIHRoZXJlIGlzIGEgc2F2ZWQgdG9rZW4gYW5kIGl0J3Mgc3RpbGwgdmFsaWRcclxuICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgIHJldHVybiAhIXRva2VuICYmICFpc1Rva2VuRXhwaXJlZCh0b2tlbikgLy8gaGFuZHdhaXZpbmcgaGVyZVxyXG4gICAgfVxyXG5cclxuICAgIHNldFByb2ZpbGUocHJvZmlsZSkge1xyXG4gICAgICAgIC8vIFNhdmVzIHByb2ZpbGUgZGF0YSB0byBsb2NhbFN0b3JhZ2VcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvZmlsZScsIEpTT04uc3RyaW5naWZ5KHByb2ZpbGUpKVxyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2ZpbGUoKSB7XHJcbiAgICAgICAgLy8gUmV0cmlldmVzIHRoZSBwcm9maWxlIGRhdGEgZnJvbSBsb2NhbFN0b3JhZ2VcclxuICAgICAgICBjb25zdCBwcm9maWxlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2ZpbGUnKVxyXG4gICAgICAgIHJldHVybiBwcm9maWxlID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UucHJvZmlsZSkgOiB7fVxyXG4gICAgfVxyXG5cclxuICAgIHNldFRva2VuKGlkVG9rZW4pIHtcclxuICAgICAgICAvLyBTYXZlcyB1c2VyIHRva2VuIHRvIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZF90b2tlbicsIGlkVG9rZW4pXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VG9rZW4oKSB7XHJcbiAgICAgICAgLy8gUmV0cmlldmVzIHRoZSB1c2VyIHRva2VuIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZF90b2tlbicpXHJcbiAgICB9XHJcblxyXG4gICAgbG9nb3V0KCkge1xyXG4gICAgICAgIC8vIENsZWFyIHVzZXIgdG9rZW4gYW5kIHByb2ZpbGUgZGF0YSBmcm9tIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpZF90b2tlbicpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwcm9maWxlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrU3RhdHVzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgLy8gcmFpc2VzIGFuIGVycm9yIGluIGNhc2UgcmVzcG9uc2Ugc3RhdHVzIGlzIG5vdCBhIHN1Y2Nlc3NcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpXHJcbiAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2VcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmV0Y2godXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgLy8gcGVyZm9ybXMgYXBpIGNhbGxzIHNlbmRpbmcgdGhlIHJlcXVpcmVkIGF1dGhlbnRpY2F0aW9uIGhlYWRlcnNcclxuICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5sb2dnZWRJbigpKSB7XHJcbiAgICAgICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgICAgICAuLi5vcHRpb25zXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3V0aWxzL0F1dGhTZXJ2aWNlLmpzIiwiaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL2xheW91dCdcclxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnLi4vdXRpbHMvQXV0aFNlcnZpY2UnXHJcblxyXG5jb25zdCBhdXRoID0gbmV3IEF1dGhTZXJ2aWNlKCdodHRwOi8vbG9jYWxob3N0OjUwMDAnKVxyXG5cclxuY2xhc3MgTG9naW4gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcylcclxuICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICBpZiAoYXV0aC5sb2dnZWRJbigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMudXJsLnJlcGxhY2VUbygnL2FkbWluJykgICAvLyByZWRpcmVjdCBpZiB5b3UncmUgYWxyZWFkeSBsb2dnZWQgaW5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU3VibWl0KGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAvLyB5YXkgdW5jb250cm9sbGVkIGZvcm1zIVxyXG4gICAgICAgIGF1dGgubG9naW4odGhpcy5yZWZzLmVtYWlsLnZhbHVlLCB0aGlzLnJlZnMucGFzc3dvcmQudmFsdWUpXHJcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVybC5yZXBsYWNlVG8oJy9hZG1pbicpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IGNvbnNvbGUubG9nKGUpKSAgLy8geW91IHdvdWxkIHNob3cvaGlkZSBlcnJvciBtZXNzYWdlcyB3aXRoIGNvbXBvbmVudCBzdGF0ZSBoZXJlIFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgTG9naW5cclxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlZj1cImVtYWlsXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgcmVmPVwicGFzc3dvcmRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBMb2dpblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BhZ2VzL2xvZ2luLmpzP2VudHJ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBSUE7QUFDQTs7Ozs7OztBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQURBO0FBQUE7O0FBQ0E7QUFDQTtBQURBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFEQTs7QUFHQTtBQUFBOztBQUZBO0FBTUE7QUFOQTtBQUNBOztBQUtBO0FBQ0E7QUFEQTtBQUFBOztBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBTUE7QUFDQTtBQURBO0FBQUE7QUF2QkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNOQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7OztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBOzs7OztBQUdBO0FBQUE7QUFDQTtBQUVBOzs7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBSEE7QUFLQTtBQUxBOzs7O0FBU0E7QUFDQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBSUE7QUFKQTs7Ozs7Ozs7QUFRQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0NBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBOztBQUVBO0FBRkE7QUFDQTtBQUZBO0FBTUE7QUFDQTtBQUdBO0FBRkE7QUFUQTtBQVlBO0FBQ0E7QUFFQTs7OztBQUdBO0FBQ0E7QUFBQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUFBOzs7O0FBSUE7QUFDQTtBQUFBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQUE7Ozs7QUFJQTtBQUNBO0FBQUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBRkE7QUFHQTtBQUNBO0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBSkE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBSUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4RkE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFHQTtBQUFBO0FBQ0E7QUFFQTs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUhBO0FBS0E7QUFMQTs7OztBQVNBO0FBQ0E7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUlBO0FBSkE7Ozs7Ozs7O0FBUUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==